# 플러그인 개발 가이드 아젠다 검토의견서

- [플러그인 개발 가이드 아젠다 검토의견서](#플러그인-개발-가이드-아젠다-검토의견서)
  - [검토 요약](#검토-요약)
  - [Part 1: 요구사항 정의서 검토](#part-1-요구사항-정의서-검토)
    - [현재 구조 (원안)](#현재-구조-원안)
    - [의견: 보강 필요 항목](#의견-보강-필요-항목)
    - [의견: 구조 개선안](#의견-구조-개선안)
  - [Part 2: 플러그인 개발 워크플로우 검토](#part-2-플러그인-개발-워크플로우-검토)
    - [현재 워크플로우 (원안)](#현재-워크플로우-원안)
    - [의견: 누락된 핵심 단계](#의견-누락된-핵심-단계)
    - [의견: 기존 단계 보완사항](#의견-기존-단계-보완사항)
    - [의견: 워크플로우 개선안](#의견-워크플로우-개선안)
  - [Part 3: 전체 구조 의견](#part-3-전체-구조-의견)

---

## 검토 요약

| 구분 | 평가 | 요약 |
|------|------|------|
| 요구사항 정의서 | 양호 (보강 필요) | 핵심 골격은 갖추었으나, DMAP 표준 특화 항목 누락 |
| 개발 워크플로우 | 보강 필요 | 큰 흐름은 적절하나, 표준 필수 산출물 생성 단계가 부족 |
| 전체 완성도 | 70% | 사용자 관점 워크플로우는 잘 설계됨. AI가 수행할 DMAP 표준 준수 작업이 보완 필요 |

[Top](#플러그인-개발-가이드-아젠다-검토의견서)

---

## Part 1: 요구사항 정의서 검토

### 현재 구조 (원안)

```
- 플러그인명: {영문명}
- 목적: {목적}
- 핵심기능
- 플로우
- 참고: 공유 자원 (가이드, 샘플, 템플릿, 도구)
```

### 의견: 보강 필요 항목

| # | 항목 | 이유 | 중요도 |
|---|------|------|:------:|
| 1 | **대상 도메인/사용자** | 플러그인이 어떤 분야, 누구를 위한 것인지 명시해야 에이전트 역할 설계 가능 | 높음 |
| 2 | **에이전트 구성 힌트** | 어떤 전문가 역할이 필요한지 사용자가 힌트를 줄 수 있으면 설계 품질 향상 | 중간 |
| 3 | **스킬(명령) 구성 힌트** | 사용자가 원하는 슬래시 명령 목록을 사전에 파악하면 스킬 설계에 도움 | 중간 |
| 4 | **"플로우" 용어 명확화** | "플로우"가 사용자 워크플로우인지, 에이전트 실행 흐름인지 모호함 | 높음 |
| 5 | **런타임 환경** | 대상 런타임(Claude Code, Codex CLI 등)을 명시해야 Gateway 설정 가능 | 낮음 |

### 의견: 구조 개선안

```
# 요구사항 정의서

## 기본 정보
- 플러그인명: {영문 kebab-case}
- 목적: {한 줄 요약}
- 대상 도메인: {예: 교육, 개발, 비즈니스}
- 대상 사용자: {예: 개발자, 기획자, 도메인 전문가}

## 핵심기능
- {핵심기능1}: {설명}
- {핵심기능2}: {설명}

## 사용자 워크플로우                    ← "플로우" → "사용자 워크플로우"로 명확화
- Step 1. {작업명1}: {설명}
- Step 2. {작업명2}: {설명}

## 예상 슬래시 명령 (선택)              ← 추가 제안
- /{플러그인명}:{스킬1}: {설명}
- /{플러그인명}:{스킬2}: {설명}

## 참고 공유 자원
- 참고 가이드: {목록}
- 참고 샘플: {목록}
- 참고 템플릿: {목록}
- 참고 도구: {목록}
```

**핵심 변경점:**
1. "플로우" → "사용자 워크플로우"로 명확화 (에이전트 실행 흐름과 구분)
2. "대상 도메인/사용자" 추가 (에이전트 페르소나 설계에 필수 입력)
3. "예상 슬래시 명령" 선택 항목 추가 (스킬 구조 사전 설계)

[Top](#플러그인-개발-가이드-아젠다-검토의견서)

---

## Part 2: 플러그인 개발 워크플로우 검토

### 현재 워크플로우 (원안)

```
1. 요구사항 파악
2. 플러그인 적합여부 판단
3. 사용자에게 문의할 내용 취합
4. 사용자에게 문의하여 정보 수집
5. 공유 자원에서 플러그인으로 가져갈 자원 선택
6. 플러그인 개발 계획 수립 (ralplan)
7. 사용자에게 개발 계획서 검토 요청
8. 사용자와 개발 계획서 보완
9. 사용자 승인 후 플러그인 개발 (ralph)
   - 커스텀 앱/CLI 개발 → 테스트 → 공유자원 등록
   - 공유자원 복사
   - 플러그인 개발
   - README.md 작성
10. 사용자에게 개발완료 보고
```

### 의견: 누락된 핵심 단계

DMAP 표준의 MUST 규칙에서 요구하는 필수 산출물 생성 단계가 누락됨.

| # | 누락 단계 | 관련 표준 규칙 | 중요도 |
|---|----------|---------------|:------:|
| 1 | **플러그인 스켈레톤 생성** | MUST #1: `.claude-plugin/plugin.json` 필수 | 필수 |
| 2 | **Gateway 설정** | MUST #6: `install.yaml` + `runtime-mapping.yaml` 필수 | 필수 |
| 3 | **에이전트 패키지 생성** | MUST #2: `AGENT.md` + `agentcard.yaml` 쌍 필수 | 필수 |
| 4 | **스킬 생성** | 위임형/직결형 구분하여 SKILL.md 작성 | 필수 |
| 5 | **setup 스킬 포함** | MUST #9: setup 스킬 반드시 포함 | 필수 |
| 6 | **commands/ 진입점 생성** | MUST #8: 슬래시 명령 등록용 | 필수 |
| 7 | **CLAUDE.md 라우팅 테이블** | MUST #9: 프로젝트 루트 CLAUDE.md에 등록 | 필수 |
| 8 | **전체 검증** | 검증 체크리스트 기반 최종 점검 | 필수 |
| 9 | **marketplace.json 생성** | 배포 시 필수 | 권장 |

### 의견: 기존 단계 보완사항

| 단계 | 현재 | 보완 의견 |
|------|------|----------|
| 적합여부 판단 | 기준 미정의 | 판단 기준 명시 필요 (아래 참조) |
| 개발 계획 수립 | `plugin-samples/{플러그인명}/develop-plan.md` | 경로를 `samples/{플러그인명}/develop-plan.md`로 변경 (plugin-samples 디렉토리 미존재) |
| 플러그인 개발 | "플러그인 개발" 한 줄 | DMAP 표준 산출물별 세분화 필요 |
| 커스텀 도구 개발 | 개발 → 테스트 → 공유자원 등록 | 공유자원 등록 시점 재고 필요 (플러그인 완성 후가 적절) |

**플러그인 적합여부 판단 기준 (제안):**

| 기준 | 적합 | 부적합 |
|------|------|--------|
| 반복 가능성 | 반복 사용할 워크플로우 | 일회성 작업 |
| 역할 분리 | 2개 이상 전문가 역할 필요 | 단일 작업 수행 |
| 도구 의존성 | 외부 도구/API 연동 필요 | 순수 대화만으로 해결 |
| 도메인 지식 | 특정 도메인 가이드/참조 필요 | 범용 지식으로 충분 |

### 의견: 워크플로우 개선안

```
# 플러그인 개발 워크플로우 (개선안)

## Phase 1: 요구사항 수집
1. 요구사항 정의서 파악
2. 플러그인 적합여부 판단
   - 부적합 시: 사용자에게 검토결과 및 보완사항 추천
3. 사용자에게 문의할 내용 취합
4. 사용자에게 문의하여 정보 수집 (AskUserQuestion)

## Phase 2: 설계 및 계획
5. 공유 자원 선택
   - resources/plugin-resources.md에서 활용할 자원 선별
6. 플러그인 구조 설계                              ← 신규 추가
   - 에이전트 구성 (역할, 티어, 도구)
   - 스킬 구성 (유형, 워크플로우)
   - Gateway 설정 (도구 매핑, 티어 매핑)
   - 디렉토리 구조 확정
7. 개발 계획 수립 ('/oh-my-claudecode:ralplan')
   - 공유자원 마켓플레이스에서 가져갈 자원 명시
   - 커스텀 앱/CLI 개발 계획
   - 외부 자원 수집 계획
   - samples/{플러그인명}/develop-plan.md로 생성     ← 경로 수정
8. 사용자 검토 및 승인

## Phase 3: 플러그인 개발 ('/oh-my-claudecode:ralph')
9. 플러그인 스켈레톤 생성                          ← 신규 추가
   - .claude-plugin/plugin.json
   - .claude-plugin/marketplace.json
   - 디렉토리 구조 생성
10. Gateway 설정                                   ← 신규 추가
    - gateway/install.yaml
    - gateway/runtime-mapping.yaml
11. 공유자원 복사
    - 마켓플레이스에서 필요 자원 복사
12. 에이전트 개발                                  ← 신규 추가 (세분화)
    - AGENT.md + agentcard.yaml + tools.yaml (에이전트별)
13. 스킬 개발                                     ← 신규 추가 (세분화)
    - setup 스킬 (필수)
    - core/orchestrator/planning 스킬
14. commands/ 진입점 생성                          ← 신규 추가
15. 커스텀 앱/CLI 개발
    - 개발 → 테스트 → gateway/tools/에 배치
16. README.md 작성

## Phase 4: 검증 및 완료                           ← 신규 추가
17. 전체 검증
    - DMAP 표준 체크리스트 기반 점검
    - setup 스킬 실행 테스트
    - 슬래시 명령 동작 확인
18. 사용자에게 개발완료 보고
19. (선택) 커스텀 도구를 공유자원에 등록
```

**원안 대비 주요 차이점:**

| 항목 | 원안 | 개선안 | 이유 |
|------|------|--------|------|
| 구조 설계 | 없음 | Phase 2에 추가 | 에이전트/스킬/Gateway 구조를 사전에 설계해야 개발 계획 품질 향상 |
| 스켈레톤 생성 | 없음 | Phase 3 시작 | plugin.json은 MUST #1 규칙 |
| Gateway 설정 | 없음 | 스켈레톤 직후 | install.yaml + runtime-mapping.yaml 없으면 에이전트 호출 불가 |
| 에이전트/스킬 세분화 | "플러그인 개발" 한 줄 | 별도 단계 | DMAP 핵심 산출물이므로 명시 필요 |
| setup 스킬 | 없음 | 스킬 개발에 포함 | MUST #9 규칙 |
| commands/ | 없음 | 별도 단계 | MUST #8 규칙 |
| 전체 검증 | 없음 | Phase 4 추가 | 표준 준수 여부 최종 점검 필수 |
| 커스텀 도구 공유자원 등록 | 개발 직후 | 완료 후 선택 | 플러그인 완성 전 등록하면 미완성 도구가 공유됨 |
| 개발 계획서 경로 | `plugin-samples/` | `samples/` | plugin-samples 디렉토리 미존재, samples/가 표준 |

[Top](#플러그인-개발-가이드-아젠다-검토의견서)

---

## Part 3: 전체 구조 의견

### 가이드 문서의 성격

이 가이드는 두 가지 역할을 수행:

| 역할 | 대상 독자 | 내용 |
|------|----------|------|
| **사용자 가이드** | 플러그인을 만들고 싶은 사람 | 요구사항 정의서 작성법, 워크플로우 이해 |
| **AI 실행 지침** | DMAP 빌더 (AI) | 표준 준수 개발 절차, 산출물 생성 규칙 |

원안은 **사용자 가이드** 관점이 잘 설계됨 (요구사항 수집 → 문의 → 계획 → 개발).
**AI 실행 지침** 관점의 DMAP 표준 산출물 생성 절차가 보강 필요.

### 가이드를 어디에 배치할 것인가?

| 선택지 | 경로 | 장점 | 단점 |
|--------|------|------|------|
| A. 리소스 가이드 | `resources/guides/plugin/` | 공유 자원으로 재사용 가능 | 표준에 가까운 내용 |
| B. 표준 문서 | `standards/` | 표준과 함께 관리 | 이미 4개 표준 문서 존재 |
| C. 독립 문서 | 프로젝트 루트 | 진입점 역할 | 관리 분산 |

**제안**: **A. 리소스 가이드** (`resources/guides/plugin/plugin-dev-guide.md`)
이유: 이 가이드는 표준 자체가 아니라 표준을 활용하는 **방법론**이므로 리소스 마켓플레이스에 등록하는 것이 적합.

### 향후 고려사항

| 항목 | 설명 |
|------|------|
| 스킬화 가능성 | 이 가이드 자체를 오케스트레이터 스킬(`dmap-builder`)로 만들면 `/dmap:build` 명령으로 자동 실행 가능 |
| 단계별 체크포인트 | 각 Phase 완료 시 사용자 확인을 받을지, 자동 진행할지 정책 필요 |
| 기존 플러그인 참조 | Abra 플러그인(`samples/abra/`)을 실제 참조 예시로 활용 가능 |

[Top](#플러그인-개발-가이드-아젠다-검토의견서)
