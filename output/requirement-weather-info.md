# weather-info 플러그인 요구사항 정의서

## 기본 정보

**플러그인명**: weather-info

**목적**: 일반 사용자가 지역의 위도/경도 좌표를 입력하면 OpenWeatherMap API를 통해 현재 날씨 정보를 텍스트로 제공

**대상 사용자**: 일반 사용자

---

## 핵심 기능

1. **좌표 기반 날씨 조회**
   - 사용자로부터 위도/경도 좌표 입력 받기
   - OpenWeatherMap API 호출하여 현재 날씨 데이터 수집

2. **현재 날씨 정보 제공**
   - 기온, 날씨 상태(맑음/흐림/비 등), 체감온도 등 현재 날씨 정보 추출
   - 텍스트 요약 형식으로 사용자에게 전달

---

## 사용자 플로우

| Step | 역할 | 작업 내용 |
|------|------|-----------|
| 1 | User | 날씨 정보 요청 (위도/경도 입력) |
| 2 | Agent | 입력 좌표 유효성 검증 |
| 3 | Agent | OpenWeatherMap API 호출 |
| 4 | Agent | 응답 데이터에서 현재 날씨 정보 추출 |
| 5 | Agent | 텍스트 요약 형식으로 변환 |
| 6 | Agent | 사용자에게 날씨 정보 반환 |

---

## 에이전트 구성 힌트

**추천 에이전트**: 단일 에이전트 (weather-agent)

**역할**: API 호출, 데이터 처리, 응답 생성

**근거**:
- Step 2~6이 모두 데이터 처리 및 API 연동 역할로 동일
- 단순한 선형 플로우로 에이전트 분리 불필요
- 입력 검증 → API 호출 → 응답 생성이 하나의 트랜잭션으로 처리 가능

**적합한 4-Tier 모델**: Tier 2 (Sonnet)
- API 호출 및 JSON 파싱은 중간 수준의 추론 필요
- 텍스트 요약 생성에 적절한 언어 처리 능력 보유

---

## 참고 공유 자원

| 유형 | 자원명 | 적합성 이유 |
|------|--------|-------------|
| 도구 | `context7` | OpenWeatherMap API 문서 조회용 |
| 템플릿 | (해당 없음) | API 응답 처리 로직은 직접 작성 필요 |
| 샘플 | (해당 없음) | 날씨 도메인 샘플 미보유 |
| 가이드 | (해당 없음) | 일반적인 REST API 호출 패턴으로 특별한 가이드 불필요 |

**참고**: OpenWeatherMap API 키 발급 및 사용법은 공식 문서(https://openweathermap.org/api) 참조 필요

---

## 프로젝트 정보

**프로젝트 디렉토리**: `C:\Users\hiond\workspace\weather-info`

---

## 기술적 제약사항

- OpenWeatherMap API 키 필요 (기본값: `1aa5bfca079a20586915b56f29235cc0`)
- API Rate Limit: 무료 플랜 기준 60 calls/minute
- 좌표 유효 범위: 위도 -90 ~ 90, 경도 -180 ~ 180

---

## 기술 요건

**프로그래밍 언어**: Python 3.8+

**라이브러리**:
- `requests`: HTTP API 호출용

**에러 처리**:
- API 호출 실패 시 1회 재시도 (3초 대기)
- 재시도 실패 시 한국어 에러 메시지 반환
- 좌표 유효성 검증 실패 시 안내 메시지 출력

**응답 언어**: 한국어

**API 엔드포인트**: `https://api.openweathermap.org/data/2.5/weather`

**API 파라미터**:
- `lat`: 위도
- `lon`: 경도
- `appid`: API 키
- `units`: `metric` (섭씨 온도)
- `lang`: `kr` (한국어)

---

## 인증/보안 요건

- API 키는 setup 스킬에서 사용자 입력 받아 `.weather-info/config.yaml`에 저장
- 기본 API 키 제공: `1aa5bfca079a20586915b56f29235cc0`
- Git 제외 파일: `.weather-info/` 디렉토리 전체
